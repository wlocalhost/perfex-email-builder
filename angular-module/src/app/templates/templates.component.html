<div
  fxLayout="column wrap"
  fxLayoutAlign="top center"
  fxLayoutGap="1rem"
  class="mat-typography"
>
  <mat-toolbar class="mat-elevation-z2">
    <mat-toolbar-row>
      <h1>Email templates</h1>
      <div fxLayout fxLayoutGap="1rem" style="margin-left: auto;">
        <button mat-raised-button color="primary">
          {{ currentEmail.language }}
        </button>
        <ng-container *ngFor="let lang of topLanguagesList$ | async">
          <button mat-button (click)="changeLanguage(lang)">{{ lang }}</button>
        </ng-container>
        <button mat-button [matMenuTriggerFor]="langMenu">
          Other
        </button>
        <mat-menu #langMenu="matMenu" xPosition="before">
          <ng-template matMenuContent>
            <button
              *ngFor="let lang of languages$ | async"
              mat-menu-item
              (click)="changeLanguage(lang)"
            >
              {{ lang }}
            </button>
          </ng-template>
        </mat-menu>
      </div>
    </mat-toolbar-row>
  </mat-toolbar>

  <div
    style="padding: 1rem;max-width: 1400px;width: 100%;box-sizing: border-box;"
  >
    <mat-accordion>
      <mat-expansion-panel *ngFor="let type of types">
        <mat-expansion-panel-header>
          <mat-panel-title>{{ type }}</mat-panel-title>
          <!-- <mat-panel-description>
            Type your name and age
          </mat-panel-description> -->
        </mat-expansion-panel-header>

        <table mat-table fxFlex [dataSource]="getTemplatesByType(type)">
          <!-- Position Column -->
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let element">{{ element.name }}</td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="subject">
            <th mat-header-cell *matHeaderCellDef>Subject</th>
            <td mat-cell *matCellDef="let element">{{ element.subject }}</td>
          </ng-container>

          <ng-container matColumnDef="button">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef style="text-align: right;">
              <button mat-stroked-button>Open in builder</button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
</div>
